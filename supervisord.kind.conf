[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:mcp_server]
command=python k8_mcp_server.py
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/mcp_server.err.log
stdout_logfile=/var/log/supervisor/mcp_server.out.log
environment=PYTHONUNBUFFERED=1,KUBECONFIG="/root/.kube-writable/config"

[program:streamlit_app]
command=streamlit run web_app_kind.py --server.address=0.0.0.0 --server.port=8501 --server.headless=true
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/streamlit_app.err.log
stdout_logfile=/var/log/supervisor/streamlit_app.out.log
environment=PYTHONUNBUFFERED=1,KUBECONFIG="/root/.kube-writable/config"
startsecs=10
